<?xml version="1.0" ?>
<TestScript xmlns="http://hl7.org/fhir" id="MedicationAdministration-UNICASMedicationAdministration-vread" url="http://example.org/fhir/TestScript/MedicationAdministration-UNICASMedicationAdministration-vread">
  <status value="draft"/>
  <name value="MedicationAdministration vread TestScript"/>
  <title value="MedicationAdministration vread TestScript"/>
  <publisher value="Generado por VeraTech for Health"/>
  <fixture>
    <id value="fixture-MedicationAdministration"/>
    <autocreate value="true"/>
    <autodelete value="true"/>
    <extension url="http://hl7.org/fhir/StructureDefinition/testscript-source-url">
      <valueUri value="fixtures/UNICAS-MedicationAdministration-example-219.xml"/>
    </extension>
    <resource>&lt;!-- External resource expected at fixtures/UNICAS-MedicationAdministration-example-219.xml --&gt;</resource>
  </fixture>
  <setup>
    <action>
      <operation>
        <type>
          <coding>
            <system value="http://hl7.org/fhir/restful-interaction"/>
            <code value="vread"/>
          </coding>
        </type>
        <resource value="MedicationAdministration"/>
        <method value="put"/>
        <params value="MedicationAdministration?identifier=urn:regcess:0908005177|id-interno-prescripcion-ejemplo-219"/>
      </operation>
      <assert>
        <description value="Server must return resource conforming to profile"/>
        <path value="meta.profile"/>
        <operator value="contains"/>
        <value value="https://unicas-fhir.sanidad.gob.es/StructureDefinition/UNICASMedicationAdministration"/>
      </assert>
    </action>
  </setup>
  <test>
    <name value="Test vread on MedicationAdministration"/>
    <description value="Verify server supports vread interaction on MedicationAdministration"/>
    <action>
      <operation>
        <type>
          <coding>
            <system value="http://hl7.org/fhir/restful-interaction"/>
            <code value="vread"/>
          </coding>
        </type>
        <resource value="MedicationAdministration"/>
        <method value="get"/>
        <params value="MedicationAdministration?identifier=urn:regcess:0908005177|id-interno-prescripcion-ejemplo-219"/>
      </operation>
      <assert>
        <description value="HTTP returns Ok"/>
        <response value="okay"/>
        <stopTestOnFail value="false"/>
        <warningOnly value="false"/>
      </assert>
      <assert>
        <description value="Server must return resource conforming to profile"/>
        <path value="meta.profile"/>
        <operator value="contains"/>
        <value value="https://unicas-fhir.sanidad.gob.es/StructureDefinition/UNICASMedicationAdministration"/>
        <stopTestOnFail value="false"/>
        <warningOnly value="false"/>
      </assert>
      <assert>
        <description value="Server must return resource MedicationAdministration"/>
        <resource value="MedicationAdministration"/>
        <stopTestOnFail value="false"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
</TestScript>
